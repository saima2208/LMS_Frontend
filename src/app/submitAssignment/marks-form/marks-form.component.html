<!-- <fieldset>
  <h1>{{ isUpdate ? "Edit Mark" : "Add Mark" }}</h1>
  <form (ngSubmit)="onSubmit()" #markForm="ngForm">

    <div>
      <label for="course">Course:</label>
      <select
        id="course"
        name="course"
        [(ngModel)]="courseId"
        required
        (change)="getStudents()"
        (change)="getAssignments(mark.courseId)"
        style="width: 100%;"
      >
        <option *ngFor="let course of courses" [value]="course.id">
          {{ course.courseName }}
        </option>
      </select>
    </div>


    <div>
      <label for="assignment">Assignment:</label>
      <select
        id="assignment"
        name="assignment"
        [(ngModel)]="mark.assignmentId"
        required
        style="width: 100%;"
      >
        <option *ngFor="let assignment of assignments" [value]="assignment.id">
          {{ assignment.id }} - {{ assignment.topic }}
        </option>
      </select>
    </div>


    <table
      style="width: 100%; border-collapse: collapse; margin-top: 20px;"
      *ngIf="students.length > 0"
    >
      <thead>
        <tr>
          <th style="border: 1px solid #ddd; padding: 8px;">Student ID</th>
          <th style="border: 1px solid #ddd; padding: 8px;">Student Name</th>
          <th style="border: 1px solid #ddd; padding: 8px;">Marks</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let student of students">
          <td style="border: 1px solid #ddd; padding: 8px;">
            {{ student.id }}
          </td>
          <td style="border: 1px solid #ddd; padding: 8px;">
            {{ student.name }}
          </td>
          <td style="border: 1px solid #ddd; padding: 8px;">
            <input
              type="number"

              name ="marks"
              [(ngModel)]="mark.marks"
              required
              min="0"
              max="100"
              style="width: 100%;"
            />
          </td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="students.length === 0" style="margin-top: 20px; color: red;">
      No students found for the selected course.
    </div>


    <div style="margin-top: 20px;">
      <button
        type="submit"
        [disabled]="!markForm.valid"
        style="background-color: #007bff; color: white; padding: 10px 20px; border: none; cursor: pointer;"
      >
        {{ isUpdate ? "Update Mark" : "Add Mark" }}
      </button>
    </div>
  </form>
</fieldset>

 -->


 <fieldset>
  <h1>Add Marks</h1>
  <form (ngSubmit)="onSubmit()" #markForm="ngForm">
 <input type="hidden" name="id" [(ngModel)]="mark.id" hidden /><br />
    <div>
      <label for="course"><h3>Course:</h3></label>
      <select
        id="course"
        name="course"
        [(ngModel)]="mark.courseId"
        required
        (change)="getStudents(); getAssignments(mark.courseId)"
        style="width: 100%;"
      >
        <option *ngFor="let course of courses" [value]="course.id">
          {{course.id}} - {{course.courseName }}
        </option>
      </select>
    </div>

    <div>
      <label for="assignment"><h5>Assignment</h5></label>
      <select
        id="assignment"
        name="assignment"
        [(ngModel)]="selectedAssignmentId"
        required
        style="width: 100%;"
      >
        <option *ngFor="let assignment of assignments" [value]="assignment.id">
          {{ assignment.id }}-{{ assignment.topic }}
        </option>
      </select>
    </div>
    <div>
      <label for="tmarks">Total Mark</label>
      <input type="text"   id="tmarks"
        name="tmarks"
        [(ngModel)]="mark.totalMarks"
        required>
    </div>

    <table *ngIf="students.length > 0" style="width: 100%; margin-top: 20px;">
      <thead>
        <tr>
          <th >Student ID</th>
          <th>Student Name</th>
          <th>Marks</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let student of students">
          <td >{{ student.id }}</td>
          <td >{{ student.name }}</td>
          <td  style="border: 1px solid #ddd; padding: 8px;">
            <input
              type="number"
              [(ngModel)]="studentMarks[student.id]"
              name="marks{{ student.id }}"
              required
              min="0"
              max="100"
              style="width: 100%;"
            />
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="students.length === 0" style="color: red; margin-top: 20px;">
      No students found for the selected course.
    </div>

    <div style="margin-top: 20px;">
      <button
        type="submit"
        [disabled]="!markForm.valid"
        style="background-color: #007bff; color: white; padding: 10px 20px;"
      >
        Submit Marks
      </button>
    </div>
  </form>
</fieldset>
